<!doctype html><html><head><title>Continuous Delivery in a NutShell</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/assets/css/bootstrap.min.css><link rel=stylesheet href=/assets/css/layouts/main.css><link rel=stylesheet href=/assets/css/style.css><link rel=stylesheet href=/assets/css/navigators/navbar.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/site/favicon.jpg><link rel=stylesheet href=/assets/css/style.css><meta name=description content="Continuous Delivery in a NutShell"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/assets/css/layouts/single.css><link rel=stylesheet href=/assets/css/navigators/sidebar.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-39925227-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo.jpg>Alfred Nutile</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/images/site/main-logo.jpg class=d-none id=main-logo>
<img src=/images/site/inverted-logo.jpg class=d-none id=inverted-logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><input type=text placeholder=Search data-search id=search-box><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/livewire/>Odd Livewire Error(s)</a></li><li><a href=/posts/ci_cd_part_one/>CI - GitHub Actions and Laravel (Part 1 of 3)</a></li><li><a href=/posts/sail/>Laravel Sail and M1 Mac</a></li><li><a href=/posts/269/>Get Fixture Put Fixture Helpers for Laravel</a></li><li><a href=/posts/sod/>Links and Notes About DevOps Transformation Using the Accelerate Data and Strategies</a></li><li><a href=/posts/268/>Mocking, Python, Pytest</a></li><li><a href=/posts/267/>Windows Dev Box Try 3 2020</a></li><li><a href=/posts/266/>Using Python Lambda behind and ALB</a></li><li><a href=/posts/265/>Suggestions Around Building a Good Development Team in Parallel to Building a Good Product</a></li><li><a href=/posts/264/>Lambda Tips</a></li><li><a href=/posts/263/>Mocking in Python</a></li><li><a href=/posts/262/>PHP Xdebug Visual Code</a></li><li><a href=/posts/261/>Cognito and OAuth</a></li><li><a href=/posts/260/>PHPUnit CodeCoverage</a></li><li><a href=/posts/259/>Deploying Fargate</a></li><li><a href=/posts/258/>How to Troubleshoot and Issue</a></li><li><a href=/posts/257/>Bitbucket Pipeline</a></li><li><a href=/posts/256/>JSONEditor, Vue and Vuex</a></li><li><a href=/posts/255/>Laravel Filter Scope on a Model</a></li><li><a href=/posts/254/>Query Strings, Vue and Bootstrap Active Tab</a></li><li><a href=/posts/253/>Valet Laravel 7.1 and 7.2</a></li><li><a href=/posts/252/>Python3 Fixtures</a></li><li><a href=/posts/251/>PHPStan Setup</a></li><li><a href=/posts/250/>Vuex External File</a></li><li><a href=/posts/249/>Simple API_Token Auth for VueJS Components and Laravel</a></li><li><a href=/posts/248/>Dusk Screenshots to S3 of Failing tests</a></li><li><a href=/posts/247/>Windows Dev Box Try 2 2018</a></li><li><a href=/posts/246/>Laravel Queue Restart and 'Why are my changes not showing up'</a></li><li><a href=/posts/245/>Lambda and Github Webhooks</a></li><li><a href=/posts/244/>Query Strings and VueJS</a></li><li><a href=/posts/243/>Debugging AWS SAM</a></li><li><a href=/posts/242/>wip Fargate and Laravel</a></li><li><a href=/posts/241/>Getting Started with Orchestra Testbench for Laravel Package Development</a></li><li><a href=/posts/240/>GroupBy not Sorting by latest</a></li><li><a href=/posts/239/>BrowserSync and Laravel</a></li><li><a href=/posts/238/>Troubleshoot Laravel Socialite and Github login</a></li><li><a href=/posts/237/>Wrapping Libraries in Services JS</a></li><li><a href=/posts/236/>Passing from Blade to VueJs</a></li><li><a href=/posts/235/>Laravel and AWS Rekognition</a></li><li><a href=/posts/234/>Docker Laravel and Cron</a></li><li><a href=/posts/233/>Pusher and Laravel Updates</a></li><li><a href=/posts/232/>Dusk and Production (with Dusk disabled)</a></li><li><a href=/posts/231/>Testing Laravel API, Spark with Authentication</a></li><li><a href=/posts/230/>Example of Making Documentation in Markdown with PDF Output</a></li><li><a href=/posts/229/>Serverless Python and Example App WIP</a></li><li><a href=/posts/228/>VueJS Transition Helper</a></li><li><a href=/posts/227/>Laravel Asset Notes WIP</a></li><li><a href=/posts/226/>PostMark SMTP for sending Notifications and Password Resets</a></li><li><a href=/posts/225/>Dusk Notes</a></li><li><a class=active href=/posts/224/>Continuous Delivery in a NutShell</a></li><li><a href=/posts/223/>Laravel Shift and Your Day Job</a></li><li><a href=/posts/222/>Wrapping JSONEditor in Vue as Well as Laravel Blade</a></li><li><a href=/posts/221/>Laravel, Dusk and Valet</a></li><li><a href=/posts/220/>WIP AWS Batch and Workers with Laravel</a></li><li><a href=/posts/219/>Mocking Models OutSide of Laravel</a></li><li><a href=/posts/218/>Versions and Branching a Library</a></li><li><a href=/posts/217/>Serverless and Custom Tags for Resources</a></li><li><a href=/posts/215/>Setting Up My Mac</a></li><li><a href=/posts/214/>Serverless, AWS API Gateway and Authentication</a></li><li><a href=/posts/213/>IronFunctions and PHP</a></li><li><a href=/posts/212/>Testing a trait with PHPUnit</a></li><li><a href=/posts/211/>Machine to Machine Laravel Passport</a></li><li><a href=/posts/210/>Meetings and Cross TimeZone Teams</a></li><li><a href=/posts/209/>Dusk and Homestead</a></li><li><a href=/posts/208/>Simple Slack Trait Get Request and return Response</a></li><li><a href=/posts/207/>We Code in the Context of our Quoting</a></li><li><a href=/posts/206/>Instantiate Request for Testing</a></li><li><a href=/posts/205/>Load Testing With Behat</a></li><li><a href=/posts/204/>Example Job Format for Queue</a></li><li><a href=/posts/203/>LarScanner simple foundation for building a good Laravel Security Scanner</a></li><li><a href=/posts/202/>Super Simple Sending Messages to Slack from Laravel</a></li><li><a href=/posts/201/>Pusher and PHP 'Error Failed to connect to Pusher'</a></li><li><a href=/posts/200/>Model Boot Events</a></li><li><a href=/posts/199/>Queue onConnection</a></li><li><a href=/posts/198/>Guzzle 5 or 6 or ????</a></li><li><a href=/posts/197/>Chrome update equals Behat Fail</a></li><li><a href=/posts/196/>Laravel and Casting 'JSON_UNESCAPED_UNICODE' Data</a></li><li><a href=/posts/195/>Laravel 5.x Cookbook Chat Area</a></li><li><a href=/posts/194/>Throttle Password Reset</a></li><li><a href=/posts/193/>Laravel Throttle Feature using IP address as Key</a></li><li><a href=/posts/192/>Troubleshooting a Failed Build with Codeship and SauceLabs</a></li><li><a href=/posts/191/>Amazon Machine Learning</a></li><li><a href=/posts/190/>Mockery Behat and Laravel</a></li><li><a href=/posts/189/>Adding Basic Auth to Forge</a></li><li><a href=/posts/188/>Uploading Images in Behat both at Domain Level and UI Level</a></li><li><a href=/posts/187/>Behat Laravel Domain Testing Inside Out</a></li><li><a href=/posts/186/>Keeping a Controller Method Simple</a></li><li><a href=/posts/185/>Example of Mixing it up Behat BDD and PHPUnit</a></li><li><a href=/posts/184/>Homestead and Auto Setup Hosts File</a></li><li><a href=/posts/183/>API Token Based Access Laravel 5.1 (Yet another article on this)</a></li><li><a href=/posts/182/>Contract Testing</a></li><li><a href=/posts/181/>Getting Going Quickly Windows, Behat and Selenium</a></li><li><a href=/posts/180/>AWS, S3 Storage and limited Visibility</a></li><li><a href=/posts/179/>Behat and Uploading Files to a Form Even on Remote Selenium2 Servers</a></li><li><a href=/posts/178/>Laravel, PHPUnit, Require_Once on Routes</a></li><li><a href=/posts/177/>Remote Behat Testing with Laravel</a></li><li><a href=/posts/176/>CMS or NOT CMS</a></li><li><a href=/posts/175/>Feature Flags In Laravel</a></li><li><a href=/posts/174/>Install Webdriver to get testing with Behat and Javascript</a></li><li><a href=/posts/173/>Slack Custom Commands and Laravel to Make an American to British Translater</a></li><li><a href=/posts/172/>Then Benefits of Building a Clickable POC as a Developer</a></li><li><a href=/posts/171/>Put It All Into Version Control Even Composer!</a></li><li><a href=/posts/170/>Why Side Projects are Good For Me</a></li><li><a href=/posts/169/>Do I Really Need This Route Anymore?</a></li><li><a href=/posts/168/>Logout User After Inactivity Laravel and Milddleware</a></li><li><a href=/posts/167/>CentOS or RedHat and Laravel</a></li><li><a href=/posts/166/>Quick Tip Forcing More Complex Passwords in Laravel</a></li><li><a href=/posts/165/>Image Uploads, Laravel, Angular and Flow.js</a></li><li><a href=/posts/164/>Simple Example of Making Code Easier to Read</a></li><li><a href=/posts/163/>Spark Setup Issue</a></li><li><a href=/posts/162/>Adding Expose IDS to Laravel MiddleWare</a></li><li><a href=/posts/161/>Note To Self: A VirtualBox machine with the name 'homestead' already exists.</a></li><li><a href=/posts/160/>Laravel and Angular Widgets e.g. Non SPA (Single Page Application) Pattern</a></li><li><a href=/posts/159/>Laravel 5.1 and Oauth</a></li><li><a href=/posts/158/>Talking to the Methods Not the Properties</a></li><li><a href=/posts/157/>Using your project docs inside the application</a></li><li><a href=/posts/156/>Behat for Product Owners</a></li><li><a href=/posts/155/>HasMany Through a Many to Many</a></li><li><a href=/posts/154/>Adding RSS to Your Site</a></li><li><a href=/posts/153/>Bower and Elixir</a></li><li><a href=/posts/152/>Quick way to Request Json from Angular and return from Laravel</a></li><li><a href=/posts/151/>Laravel 5.1 Behat and Codeship</a></li><li><a href=/posts/150/>Conventions to Help Minimize your ENV File</a></li><li><a href=/posts/149/>Start to end Billing using Stripe, Cashier and Laravel 5.1</a></li><li><a href=/posts/148/>Codeship and Laravel for Continuous Integration</a></li><li><a href=/posts/147/>Logging in Iron.io Workers</a></li><li><a href=/posts/146/>Writing Commands and Scheduling in Laravel 5.1</a></li><li><a href=/posts/145/>Easily Create Fixture Data from Remote Services and Refresh Mock Data</a></li><li><a href=/posts/144/>Adding Cache to your Laravel Site</a></li><li><a href=/posts/143/>Iron.io and Lumen</a></li><li><a href=/posts/142/>Quick way to mock data for Behat in Laravel</a></li><li><a href=/posts/141/>Code for making a Shortcut tool for your App</a></li><li><a href=/posts/140/>Using Faker and ENV vars with Behat</a></li><li><a href=/posts/139/>Using a BurnDown Chart to Pace Yourself</a></li><li><a href=/posts/138/>Behat and PhantomJs</a></li><li><a href=/posts/137/>PHP Error: Maximum function nesting level of '100' reached, aborting Behat</a></li><li><a href=/posts/136/>Iron.io Laravel and Workers, Microservices</a></li><li><a href=/posts/135/>Multi Domain Nginx Redirect</a></li><li><a href=/posts/134/>Sending Dates to Angular from Laravel</a></li><li><a href=/posts/133/>Dealing with Oauth2 Server and Laravel for both a local app login and for remote apps using Lucadegasperi/oauth2-server-laravel</a></li><li><a href=/posts/132/>Simple Look at Laravel Events</a></li><li><a href=/posts/131/>Laravel-Flysystem and Creating Time Limited Public Urls on S3</a></li><li><a href=/posts/130/>Laravel Behat and Selenium</a></li><li><a href=/posts/129/>Linux, Behat and installing ChromeDriver</a></li><li><a href=/posts/128/>Sqlite and Laravel</a></li><li><a href=/posts/127/>Timing PHPUnit Tests</a></li><li><a href=/posts/126/>Reusable UI/API CRUD Laravel and Angular</a></li><li><a href=/posts/124/>Laravel Blade and Angular brackets</a></li><li><a href=/posts/123/>Angular History Based BreadCrumbs</a></li><li><a href=/posts/122/>Embed Template Data in View (Angular, Laravel)</a></li><li><a href=/posts/121/>Quick fixture data and mocking external APIs</a></li><li><a href=/posts/120/>Mocking Queue Service for faster Behat Testing</a></li><li><a href=/posts/119/>Redirecting back to original Angular.js destination from Laravel Auth</a></li><li><a href=/posts/118/>Docker, MailCatcher and Laravel</a></li><li><a href=/posts/117/>PHP quick fixture data for phpunit testing</a></li><li><a href=/posts/116/>Nginx force SSL</a></li><li><a href=/posts/115/>Moving Forge Deploy Script to Envoy</a></li><li><a href=/posts/114/>Laravel and Angular Time/Date Display</a></li><li><a href=/posts/113/>Laravel 4.2 and Dotenv to set environment</a></li><li><a href=/posts/112/>Speeding up PHPunit tests and Behat in Laravel for Database refreshes</a></li><li><a href=/posts/111/>Angular Pusher Factory to Centralize Code (also using Laravel to set constants and properties)</a></li><li><a href=/posts/110/>CSRF Tokens and Angular.js</a></li><li><a href=/posts/109/>Temporary Auth Updates L5</a></li><li><a href=/posts/108/>Chrome and Behat</a></li><li><a href=/posts/107/>Design Guide - Controllers, Services and IOC</a></li><li><a href=/posts/106/>Multi Threaded Queue Processing</a></li><li><a href=/posts/105/>Team Style Guides and Mind Set</a></li><li><a href=/posts/104/>Sorting related models in Laravel</a></li><li><a href=/posts/103/>Behat for testing RESTful APIs</a></li><li><a href=/posts/102/>Boris REPL and you Applicatoin (Silex in this case)</a></li><li><a href=/posts/101/>SSL and Homestead</a></li><li><a href=/posts/100/>Drush and Homestead Vagrant Box</a></li><li><a href=/posts/99/>Polymorphic relationship Laravel</a></li><li><a href=/posts/98/>Quick way to traverse a nested php arrray</a></li><li><a href=/posts/97/>Using VCR for PHP API Testing</a></li><li><a href=/posts/96/>Saucelabs PHP Client</a></li><li><a href=/posts/95/>Many to Many Polymorphic Relations from Laravel to Angular and back</a></li><li><a href=/posts/94/>Laravel Sentry and UUID</a></li><li><a href=/posts/93/>Laravel Homestead and MailCatcher</a></li><li><a href=/posts/92/>Laravel Homestead and Beanstalkd Console</a></li><li><a href=/posts/91/>Restangular and nested responses</a></li><li><a href=/posts/90/>Behat Test more than number of elements</a></li><li><a href=/posts/89/>When you have to use Angular inside of Drupal</a></li><li><a href=/posts/88/>Transforming Output from the Database to the View/REST layer</a></li><li><a href=/posts/87/>Showing nested relationships details</a></li><li><a href=/posts/86/>Simple Laravel CMS Example</a></li><li><a href=/posts/85/>Quick Gulp file to run php-unit tests</a></li><li><a href=/posts/84/>Laravel and non email authentication</a></li><li><a href=/posts/78/>Using Beanstalkd to Schedule the release of a post in Laravel</a></li><li><a href=/posts/77/>Behat Seed Repo</a></li><li><a href=/posts/76/>Using Dot Env files to manage settings</a></li><li><a href=/posts/69/>Using Scopes in Laravel</a></li><li><a href=/posts/68/>Quick way to add text to a hidden ckeditor field</a></li><li><a href=/posts/67/>Github CLI to get Teams and Members of an Org</a></li><li><a href=/posts/66/>Mink Assertions</a></li><li><a href=/posts/65/>Drupal and Composer install or update</a></li><li><a href=/posts/64/>Adding Column using sqlite caused error 'Cannot add a NOT NULL column with default value NULL'</a></li><li><a href=/posts/63/>php artisan migrate:reset not working</a></li><li><a href=/posts/62/>Angular and Scope - or - How not to waste time figuring out why a scope value is not 'working'</a></li><li><a href=/posts/61/>Behat Checkbox</a></li><li><a href=/posts/60/>Adding Markdown Editor to your Blog/CMS</a></li><li><a href=/posts/59/>Running multiple tasks asynchronously with Drush, Drupal and MT</a></li><li><a href=/posts/58/>Building the UI first with Angular, Mocked Data and REST</a></li><li><a href=/posts/57/>Behat Vagrant install and local testing</a></li><li><a href=/posts/56/>GitWrapper Per Page settings KnpLabs / php-github-api</a></li><li><a href=/posts/55/>Angular and Laravel Partials</a></li><li><a href=/posts/54/>Using Github Pages for your help docs</a></li><li><a href=/posts/53/>Twig and Drupal 7</a></li><li><a href=/posts/52/>Drupal Services and Instantiating a Class</a></li><li><a href=/posts/51/>Guard, Laravel and phpunit</a></li><li><a href=/posts/50/>Angular.js, CKEditor, and REST including file uploads</a></li><li><a href=/posts/49/>Saucelabs Timeout</a></li><li><a href=/posts/48/>Angular Drupal and CSRF</a></li><li><a href=/posts/47/>Ng-if and Scope</a></li><li><a href=/posts/46/>Mocking drupal database queries</a></li><li><a href=/posts/45/>Ubuntu 12.04 and PHP 5.4</a></li><li><a href=/posts/44/>Laravel Project Management Site</a></li><li><a href=/posts/43/>Angular Watching a model and it's filters</a></li><li><a href=/posts/42/>Behat Resources</a></li><li><a href=/posts/41/>Nesting Laravel 4 Routes</a></li><li><a href=/posts/40/>Exploring Code and Laravel</a></li><li><a href=/posts/39/>Node.js error</a></li><li><a href=/posts/38/>Behat and bad HTML</a></li><li><a href=/posts/37/>Behat Mink and using Javascript / jQuery to test attributes</a></li><li><a href=/posts/36/>Keep it (functions/methods) small and simple</a></li><li><a href=/posts/35/>PHPSH</a></li><li><a href=/posts/34/>Behat and Drupal episode 1</a></li><li><a href=/posts/33/>Quick Script to update Heroku database</a></li><li><a href=/posts/32/>Bash History</a></li><li><a href=/posts/31/>Drupal FAPI Validation Error</a></li><li><a href=/posts/30/>Heroku in Heroku</a></li><li><a href=/posts/29/>Drush and Features-Export</a></li><li><a href=/posts/28/>Hosting is Dead?</a></li><li><a href=/posts/27/>HerokuApps and Multiple Domains</a></li><li><a href=/posts/26/>Global Redirect module after spaces / purl install does not</a></li><li><a href=/posts/25/>Ruby on Rails with CMS and other fun stuff</a></li><li><a href=/posts/24/>Paperclip and S3 and Ckeditor</a></li><li><a href=/posts/23/>RubyMine and BetterErrors</a></li><li><a href=/posts/22/>Installing mysql2 on a mac</a></li><li><a href=/posts/21/>NDA</a></li><li><a href=/posts/20/>Capistrano for non-rails sites</a></li><li><a href=/posts/19/>Angular Seed Testing Setup</a></li><li><a href=/posts/18/>Angular.js Ticket System</a></li><li><a href=/posts/17/>Paperclip and S3</a></li><li><a href=/posts/16/>Technologies for a Saas</a></li><li><a href=/posts/15/>My first Rails site for the masses.</a></li><li><a href=/posts/14/>Refinery CMS and Twitter Bootstrap</a></li><li><a href=/posts/13/>Vagrant and Laravel</a></li><li><a href=/posts/12/>Questions that may come in handy when interviewing</a></li><li><a href=/posts/11/>Hack For Change Challenge</a></li><li><a href=/posts/10/>Bootstrap Generator Gem Ruby on Rails</a></li><li><a href=/posts/9/>Using headless tests with Mink and Behat</a></li><li><a href=/posts/8/>ActiveAdmin Rails</a></li><li><a href=/posts/7/>Making lists from acts_as_taggable</a></li><li><a href=/posts/6/>Javascript Based Product Viewer</a></li><li><a href=/posts/5/>jQuery Address</a></li><li><a href=/posts/4/>CORS and Laravel</a></li><li><a href=/posts/3/>Great tip on Git and Jenkins to auto deploy</a></li><li><a href=/posts/2/>Going Angular.js</a></li><li><a href=/posts/1/>DrupalCamp Western Mass</a></li><li><a href=/projects/introduction/>Introduction</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://alfrednutile.info/images/heros/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/avatar.jpg><h5 class=author-name></h5><p>November 11, 2017</p></div><div class=title><h1>Continuous Delivery in a NutShell</h1></div><div class=post-content id=post-content><h1 id=mainline-workflow>Mainline Workflow</h1><blockquote><p>&ldquo;Once you achieve a certain frequency of releases, around once a week or so, it no longer makes sense to branch for release.&rdquo; - Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation</p></blockquote><h2 id=tldr>tl;dr</h2><p>I want to do a <code>tl;dr</code> of a workflow, that two years ago seemed insane, but now would seem impossible for me to work without and still feel efficient.
The topic of Continuous Delivery and Mainline workflow.</p><p>To sum it up:</p><p>“Developers that practice working in small blocks of code, writing tests and committing often. Your app has the right amount of tests in place, a CI that runs with each commit, building and testing for every push. Reviewing each others code daily, and the ability to Feature Flag items that are not ready yet that with each push to the only branch, Mainline, the code then goes to production. <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>”
Insane right?</p><p>But then when your hear of the many companies following this pattern:</p><ul><li>Google</li><li>Facebook</li><li>Amazon</li><li><a href=https://www.atlassian.com/blog/continuous-delivery/practical-continuous-deployment>Atlassian</a></li><li>WordPress</li><li>Intercom</li><li>IMVU, since 2009 (50 deployments/day)</li><li>Wealthfront, since 2010</li><li>Etsy, since 2010</li><li>DISQUS, since 2011</li><li>Box, since 2013</li><li>Hubspot, since 2013 (300 deployments/day)</li><li>Tesla and Adobe</li></ul><p>[^2]</p><p>And watch <a href=https://youtu.be/SjVV3xuYKJs>videos</a> by Jez Humble and read the book Continuous Delivery, you start to see how you can leave behind a Feature Branch/PR workflow for this much more efficient and still stable workflow.</p><p>That about sums it up but now a bit more details.</p><h2 id=day-to-day-responsibilities-of-the-developers>Day to day responsibilities of the developers</h2><blockquote><p>Your team prioritizes keeping the software deployable over working on new features - Martin Fowler <a href=https://martinfowler.com/bliki/ContinuousDelivery.html>ContinuousDelivery</a></p></blockquote><p>First of all this workflow really asks for developers to break down their work to small small steps/blocks. Almost going hand in hand with TDD minus.</p><p><img src="https://dl.dropboxusercontent.com/s/p6amd7n63yqn32g/4_pane_guy_and_getting_started.png?dl=0" alt></p><p>With this, and some items I list below, the developer can move forward with confidence that the app is not going to break with the feature they are working on being not 100% done.</p><p>And the developer is working knowing that each block of code has to be production ready so there has to be trust here that they will code at this level. But all of this will surface in the code review that I will talk about below.</p><p>And to top it off they are pushing to the repo and therefore a Continuous Integration system like TravisCI, 3-4 times at least a day.</p><h2 id=testing>Testing</h2><blockquote><p>Being proud of 100% test coverage is like being proud of reading every word in the newspaper. Some are more important than others. - Kent beck</p></blockquote><p>As noted above coverage and testing is key. This does not mean 100% coverage but as a team you have an agreement to the right amount and your CI system should fail when the code falls below this amount.</p><p>These test should be part of all our blocks of code you are committing and not be an after thought.</p><p>And lastly these tests are what give you all the confidence to have this workflow where you are pushing to a server numerous times a day.</p><h2 id=code-review>Code Review</h2><blockquote><p>10 lines of code = 10 issues.
500 lines of code = &ldquo;looks fine.&rdquo;
Code reviews - @iamdevloper</p></blockquote><p>Code Review is key, and this is were many from a PR (Pull Request) work flow would argue is missing. Code is getting into &ldquo;master&rdquo; before being reviewed.</p><p>I get it, but if we are committing often, reviewing often and have good test coverage, then you will see areas of the code where patterns can be optimized or direction changed as you take a couple of times a day to do the code review.</p><p>And this is an pattern that will ideally help every one on the team to grow to the level expected. If some developers are truly too junior to code at this level then maybe there are more root level efforts to be had to help them, e.g. pair coding etc.</p><p>And the Code Review goes both ways not just lead reviewing others but reviewing each others code.</p><h2 id=feature-flags>Feature Flags</h2><blockquote><p>Feature Toggles are a powerful technique, allowing teams to modify system behavior without changing code. - Martin Fowler</p></blockquote><p>This is another key pattern to make this possible. Let&rsquo;s say feature Foo is ready for production but feature Bar is not. Both are on mainline and both are pushed to production! But Bar is behind a feature flag/toggle. This means that unless an admin goes in and turns it on in the UI or a setting changed in the ENVIRONMENT is set to on then it will not appear, e.g. the load balancer sends traffic from us-east to server 1 where this feature is on.</p><p>As noted above the developer is working in small blocks that will not impact the application as a whole. Even migrations can be done this way. <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p>This also leaves us open to do A B testing too if we want. Or better yet remove a feature that we find out was not being used! Nothing beats being able to remove code that is not needed.</p><h2 id=ci>CI</h2><blockquote><p>From now on, our code in revision control will always build successfully and pass its tests - <a href=http://www.jamesshore.com/Blog/Continuous-Integration-on-a-Dollar-a-Day.html>James Shore: Continuous Integration on a Dollar a Day</a></p></blockquote><p>This is the gateway from Developer to Deployment. This is the guard that keeps those accidental typos, missing libraries etc from making it to the server.</p><p>Just one <code>.yml</code> file later, good example <a href=https://github.com/thephpleague/skeleton/blob/master/.travis.yml>here</a> for php, and you are ready to use a system like TravisCI.</p><p>And this one step will be a world of difference even if you are working alone.</p><p>This is key in CD is that no code will be deployed till it passes CI. This means:</p><ul><li>The code will be built on the server catching &ldquo;it works on my machine issues&rdquo;</li><li>The tests has to pass.</li><li>The style rules have to pass</li></ul><p>And once all this passes then you can have it do the deployment for you!</p><p>Even with tools like <a href=https://laravel.com/docs/5.5/dusk>Dusk</a> or <a href=http://behat.org/en/latest/>Behat</a> you can be testing your UI as well.</p><h2 id=deployment>Deployment</h2><blockquote><p>Over time, deployments should tend towards being fully automated. There should be two tasks for a human being to perform to deploy software into a development, test, or production environment: to pick the version and environment and to press the “deploy” button - Humble, Jez. Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation</p></blockquote><p>There are many ways to deploy of course. The CD goal is that you are deploy an &ldquo;Artifact&rdquo;. The reason is that this build and all the steps to make it so, that passed on your CI system should not be run again when deployed.</p><p>A good example of this is say you have 3 servers behind a load balancer and you want to deploy to all of them, one at a time. You then have to hope, if you are not deploying an artifact, that your steps will work on all them as they did on the CI. For me this would mean.</p><ul><li>composer install - which can have moments where Github fails or http issue</li><li>yarn install - still some risk here of server issues</li></ul><p>What, for me, has been working well is <a href=https://aws.amazon.com/codedeploy/>CodeDeploy</a>. This integrates with TravisCI so it fits right into the <code>.yml</code> file. And during deployment of this artifact its is smart enough to do it one server at a time, removing it from the ELB (Elastic Load Balancer) while this is happening, and then putting it back when done if it passes. Stopping along the way and rolling back if there is a fail.</p><h2 id=long-qa-branches>Long QA Branches</h2><p>There are those moments when QA and regulations are blocking you. But this then turns into a &ldquo;release branch&rdquo; and not a tag.</p><p><img src="https://dl.dropboxusercontent.com/s/blvz1t41eejrwzs/release_branch.jpg?dl=0" alt></p><p>Here are some quotes from the book Continuous Delivery.</p><blockquote><p>&ldquo;A more manageable branching strategy (when you can not release as often) —our strong recommendation, and arguably the industry standard—is to create long-lived branches only on release, as shown in the image above&rdquo; from &ldquo;Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation (Adobe Reader) (Addison-Wesley Signature Series (Fowler))&rdquo; by Jez Humble, David Farley</p></blockquote><p>And</p><blockquote><p>&ldquo;Branch for Release The one situation when it’s always acceptable to create a branch is shortly before a release. Once the branch is created, testing and validation of the release is done from code on the branch, while new development is performed on mainline.&rdquo; from &ldquo;Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation (Adobe Reader) (Addison-Wesley Signature Series (Fowler))&rdquo; by Jez Humble, David Farley</p></blockquote><p>Finally</p><blockquote><p>&ldquo;It is important, when branching for release, not to create further branches off the release branch.&rdquo; from &ldquo;Continuous Delivery: Reliable Software Releases through Build, Test, and Deployment Automation (Adobe Reader) (Addison-Wesley Signature Series (Fowler))&rdquo; by Jez Humble, David Farley</p></blockquote><p>Again this if for those times when there are systems / departments and regulations in place that leave you no real option.</p><h2 id=links>Links</h2><p>Jez Humble and Continuous Deliver 20017 <a href="https://www.youtube.com/watch?v=SjVV3xuYKJs&t=458s">Keynote: Continous Delivery Sounds Great By Jez Humble @ Agile India 2017 - YouTube</a></p><p>The Book <a href="https://www.amazon.com/dp/B003YMNVC0?ref_=k4w_ss_details_rh">here</a></p><p>Martin Fowler Continuous Delivery <a href=https://martinfowler.com/bliki/ContinuousDelivery.html>ContinuousDelivery</a></p><p>Feature Toggles - <a href=https://martinfowler.com/articles/feature-toggles.html>Feature Toggles (aka Feature Flags)</a></p><h2 id=footnotes>Footnotes</h2><p>[^2] Credit to: <a href=https://www.quora.com/What-companies-best-exemplify-IMVU-style-continuous-deployment>What companies best exemplify IMVU-style continuous deployment? - Quora</a></p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>Or even going to staging with an &ldquo;artifact&rdquo; will be good enough since that will be sent as a whole to production. <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>For us we keep logic in the code and not so much in the database, so when a field is created we tend to allow it to be null since this means we can manage that impact it has on the rest of the application if our code is not ready yet to manage the field. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class="tags pl-3" id=tags-single><strong>Tags:</strong>
<a href=/tags/continuous-delivery>continuous delivery</a></div><div class=btn-improve-page><a href=https://github.com/alnutile/alnutile.github.io/edit/master/content/posts/224.md><i class="fas fa-code-branch"></i>Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/225/ class="btn btn-outline-info"><span><i class="fas fa-chevron-circle-left"></i>Prev</span><br><span>Dusk Notes</span></a></div><div class="col-md-6 next-article"><a href=/posts/223/ class="btn btn-outline-info"><span>Next <i class="fas fa-chevron-circle-right"></i></span><br><span>Laravel Shift and Your Day Job</span></a></div></div><hr><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;var disqus_shortname="alfrednutile";dsq.src="//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#tldr>tl;dr</a></li><li><a href=#day-to-day-responsibilities-of-the-developers>Day to day responsibilities of the developers</a></li><li><a href=#testing>Testing</a></li><li><a href=#code-review>Code Review</a></li><li><a href=#feature-flags>Feature Flags</a></li><li><a href=#ci>CI</a></li><li><a href=#deployment>Deployment</a></li><li><a href=#long-qa-branches>Long QA Branches</a></li><li><a href=#links>Links</a></li><li><a href=#footnotes>Footnotes</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>me@alfrednutile.info</span></li><li><span>Phone:</span> <span>+1.413.230.4767</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-2><a id=theme href=https://github.com/hossainemruz/toha target=#><img src=/assets/images/inverted-logo.png>
Toha</a></div><div class="col-md-2 text-center"><a id=theme href=https://icons8.com/ target=_blank><img src=/images/site/icon8.png>
ICONS8</a></div><div class="col-md-8 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=/assets/images/hugo-logo-wide.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/assets/js/jquery-3.4.1.min.js></script><script src=/assets/js/popper.min.js></script><script src=/assets/js/bootstrap.min.js></script><script src=/assets/js/navbar.js></script><script src=/assets/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/assets/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>