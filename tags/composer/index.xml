<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>composer on Alfred Nutile</title><link>https://alfrednutile.info/tags/composer/</link><description>Recent content in composer on Alfred Nutile</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 04 May 2014 00:00:00 +0000</lastBuildDate><atom:link href="https://alfrednutile.info/tags/composer/index.xml" rel="self" type="application/rss+xml"/><item><title>Drupal and Composer install or update</title><link>https://alfrednutile.info/posts/65/</link><pubDate>Sun, 04 May 2014 00:00:00 +0000</pubDate><guid>https://alfrednutile.info/posts/65/</guid><description><p>Using composer and drupal, even d7, is great.
But an update or install can leave you with a broken drupal registry.</p><p>So here is a workflow that is pretty bullet proof.</p><p>In this example drupal&rsquo;s composer folder where composer.json lives is located in /var/www/drupal/sites/default/files/composer</p><p>So in there is composer.json and composer.lock</p><p>So when you need to install a new composer library and you updated your json file you can run</p><pre><code>cd /var/www/drupal/
drush composer-rebuild-file
composer --working-dir=/var/www/drupal/sites/default/files/composer update</code></pre><p>If you get an broken registry issue the typically happens when you run</p><pre><code>drush composer-manager update</code></pre><p>You can clear that up with</p><pre><code>drush rr</code></pre><p>And then use composer directly as I did above to update/install your composer related files.</p></description><tags>composer, drupal, php</tags></item></channel></rss>