<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>fargate on Alfred Nutile</title><link>https://alfrednutile.info/tags/fargate/</link><description>Recent content in fargate on Alfred Nutile</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 27 Oct 2018 00:00:00 +0000</lastBuildDate><atom:link href="https://alfrednutile.info/tags/fargate/index.xml" rel="self" type="application/rss+xml"/><item><title>Deploying Fargate</title><link>https://alfrednutile.info/posts/259/</link><pubDate>Sat, 27 Oct 2018 00:00:00 +0000</pubDate><guid>https://alfrednutile.info/posts/259/</guid><description>Just some notes on the process. This will show how to deploy both a Staging build and then Production.
Staging Staging is done by TravisCI after all tests pass
Here is the gist of it the deploy step calls to a bash file.
deploy:
skip_cleanup: true
provider: script
script: bash deploy/travis_deploy.sh
on:
branch: mainline
Then
#!/usr/bin/env bash
# Bail out on first error
set -e
## Get the directory of the build script
DIR=&amp;quot;$( cd &amp;quot;$( dirname &amp;quot;${BASH_SOURCE[0]}&amp;quot; )&amp;quot; &amp;amp;&amp;amp; pwd )&amp;quot;
## Get the current git commit sha
HASH=$(git rev-parse HEAD)
## Get any secret files
aws s3 cp s3://foo/environments/$STACK_ENV_FILE $DIR/app/packaged/.</description></item></channel></rss>